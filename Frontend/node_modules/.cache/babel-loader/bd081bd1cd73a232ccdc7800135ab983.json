{"ast":null,"code":"import _regeneratorRuntime from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/nineleaps/Sattebaaz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/nineleaps/Sattebaaz/src/util/search/search.js\";\nimport _ from \"lodash\";\nimport React, { Component } from \"react\";\nimport { Search, Grid } from \"semantic-ui-react\";\nimport \"./search.css\";\nvar source = {};\n\nvar SearchBar = /*#__PURE__*/function (_Component) {\n  _inherits(SearchBar, _Component);\n\n  function SearchBar() {\n    var _this;\n\n    _classCallCheck(this, SearchBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchBar).call(this));\n\n    _this.search = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n        var tempdata, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.props.searchData(_this.props.token, value);\n\n              case 2:\n                tempdata = _this.props.search_checklist;\n                data = tempdata.map(function (i) {});\n                source = data;\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.resetComponent = function () {\n      _this.setState({\n        isLoading: false,\n        results: [],\n        value: \"\"\n      });\n    };\n\n    _this.handleResultSelect = function (e, _ref2) {\n      var result = _ref2.result;\n\n      _this.setState({\n        name: result.name,\n        value: result.title,\n        selStatus: result.status,\n        selCheckId: result.checklist_id,\n        tag: result.tag,\n        selCheckCat: result.category\n      });\n\n      console.log(_this.state.selCheckId);\n    };\n\n    _this.handleSearchChange = function (e, _ref3) {\n      var value = _ref3.value;\n\n      _this.search(e.target.value);\n\n      _this.setState({\n        isLoading: true,\n        value: value\n      });\n\n      setTimeout(function () {\n        if (_this.state.value.length < 1) return _this.resetComponent();\n        var re = new RegExp(_.escapeRegExp(_this.state.value), \"i\");\n\n        var isMatch = function isMatch(result) {\n          return re.test(result.title, result.category);\n        };\n\n        _this.setState({\n          isLoading: false,\n          results: _.filter(source, isMatch)\n        });\n      }, 300);\n    };\n\n    _this.state = {\n      data: [],\n      selCheckId: \"\",\n      selCheckCat: \"\",\n      selStatus: \"\",\n      tag: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SearchBar, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.resetComponent();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          value = _this$state.value,\n          results = _this$state.results;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        width: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        className: \"searchbox\",\n        placeholder: \"Looking for something?\",\n        loading: isLoading,\n        onResultSelect: this.handleResultSelect,\n        onSearchChange: _.debounce(this.handleSearchChange, 500, {\n          leading: true\n        }),\n        results: results,\n        value: value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return SearchBar;\n}(Component);\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/nineleaps/Sattebaaz/src/util/search/search.js"],"names":["_","React","Component","Search","Grid","source","SearchBar","search","value","props","searchData","token","tempdata","search_checklist","data","map","i","resetComponent","setState","isLoading","results","handleResultSelect","e","result","name","title","selStatus","status","selCheckId","checklist_id","tag","selCheckCat","category","console","log","state","handleSearchChange","target","setTimeout","length","re","RegExp","escapeRegExp","isMatch","test","filter","debounce","leading"],"mappings":"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","sourcesContent":["import _ from \"lodash\";\nimport React, { Component } from \"react\";\nimport { Search, Grid } from \"semantic-ui-react\";\nimport \"./search.css\";\n\nvar source = {};\nclass SearchBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n      selCheckId: \"\",\n      selCheckCat: \"\",\n      selStatus: \"\",\n      tag:\"\",\n    };\n  }\n  componentWillMount() {\n    this.resetComponent();\n  }\n    search=async (value)=> { \n    await this.props.searchData(this.props.token,value)\n      const tempdata=this.props.search_checklist\n     \n      \n      var data = tempdata.map(i => {\n      })\n     \n      source = data;\n  \n  }\n\n  resetComponent = () => {\n    this.setState({ isLoading: false, results: [], value: \"\" });\n  };\n\n  handleResultSelect =  (e, { result }) => {    \n       this.setState({\n      name:result.name,\n      value: result.title,\n      selStatus: result.status,\n      selCheckId: result.checklist_id,\n      tag: result.tag,\n      selCheckCat: result.category\n    });\n    console.log(this.state.selCheckId);\n  };\n\n  handleSearchChange = (e, { value }) => {\n    this.search(e.target.value);\n    this.setState({ isLoading: true, value });\n\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent();\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), \"i\");\n      const isMatch = result => re.test(result.title, result.category);\n\n      this.setState({\n        isLoading: false,\n        results: _.filter(source, isMatch)\n      });\n    }, 300);\n  };\n\n  render() {\n    const { isLoading, value, results } = this.state;\n    return (\n      <div>\n        <Grid>\n          <Grid.Column width={6}>\n            <Search\n              className=\"searchbox\"\n              placeholder=\"Looking for something?\"\n              loading={isLoading}\n              onResultSelect={this.handleResultSelect}\n              onSearchChange={_.debounce(this.handleSearchChange, 500, {\n                leading: true\n              })}\n              results={results}\n              value={value}\n            />\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}